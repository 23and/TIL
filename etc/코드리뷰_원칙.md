#코드리뷰

###One isuue, one pull request
- 한 번에 하나씩 리뷰하고 고치자. 
- 리뷰를 하다가 갑자기 다른 버그가 보일 수 있고, 스타일이나 포맷을 고치고 싶은 마음이 들 수 있다.
- 일단 그것은 제쳐두고 원래 고치려고 했던 내용 하나만을 보고 리뷰하고 고치는 게 더 효율적이다.


###Minimum TWO approvals before merge
- 코드를 리뷰하는 사람(검토자)은 이슈 1개당 최소 2명을 두자.


###Have 1.5x - 2.5x that number reviewers
- 코드 리뷰를 해야 할 항목(이슈)에 대비해 1.5~2.5배 정도의 검토자를 두자. 
- 버전 관리도구에 이제 막 수정된 2가지 코드 내용이 올라왔다고 하면 검토자는 이를 살펴보고 최종 프로그램에 합칠지 승인한다. 
- 검토자는 3명(2×1.5=3) 혹은 5명(2×2.5=5)을 두는 게 바람직하다. 
- 모든 검토자가 이상이 없는지 확인하는 건 아니다. 만약 검토자가 3명이라면, 3명 중 한 사람이 승인하면 수정된 코드가 실제 프로그램에 적용된다. 따라서 검토자 중 한 사람이 바쁘거나 휴가를 내도 수정된 코드는 금세 프로그램에 반영될 수 있다. 보통 아틀라시안 내부 팀에서는 2가지 이슈를 승인하기 위해서 3~5명 정도의 검토자를 할당하고 있다고 한다. 
- 개발 속도를 더 빠르게 하기 위해서는 더 많은 검토자를 배정한다.


###Use git blame / git guilt to find reviewers
- '깃 블레임'이라는 깃 명령어를 활용하라.
- 각 코드마다 마지막으로 수정한 사람이 누구인지, 최종 커밋 시간은 언제였는지 확인할 수 있다.
- 팀 페터슨 개발자 프로바커터가 직접 만든 오픈소스 '깃 길트'를 이용해도 된다.
- 깃 길트는 깃 블레임 내용을 요약하고 정리해주는 무료 커맨드라인 도구다.

###Avoid flamewars!
- 코드 리뷰를 하다보면 의견 차이가 생길 수 있다. 
- 당사자끼리 화를 내거나 온라인에 감정적인 논쟁이 길어질 때도 있다. 
- 이런 논쟁이 발생했다면 바로 상사, 아키텍트, 다른 개발자들 등이 나서서 중재해야 한다. 
- 특히 온라인에서 의견을 교환하는 것을 중단하고 당사자들끼리 얼굴을 맞대고 해결할 수 있도록 도와줘야 한다.



###Stuck in review?
- 코드 리뷰 도구를 이용하다보면 리뷰해야 할 코드가 무엇인지 모아 볼 수 있다. 
- 그런데 시간이 지나면서 해야 할 코드 리뷰가 산더미처럼 쌓일 때가 있다. 
- 따라서 '특정 요일에는 코드 리뷰할 과제를 모두 해결하자'는 식의 규칙을 만들면 좋다. 
 - 예를 들어 '매주 화요일에는 코드리뷰함에 있는 항목들을 다 해결하자'라는 내부 팀 규칙을 만드는 것이다.


###@mention specialists
- 코드 리뷰 도구나 프로젝트 추적기에서는 코드 내부에 메모나 글을 적을 수 있다. 
- 이러한 기능을 활용해 특정 전문가나 관련자에게 코드에 대한 질문을 작성해 코드 리뷰를 해보자.


###Raise issues for TODOs
- 개발자들은 소스코드를  작성하면서 // TODO fix this later 같은 주석을 달곤한다. 
- 나중에 다시 고치기 위해 일단 메모하는 것이다. 
- 개발자는 가끔씩 이 주석을 잊고 수정을 안 한 채 코드를 제출하기도 한다. 
- 만약 코드 검토자가 이러한 주석을 발견했다면 개발자에게 다시 알려주거나 구체적으로 이슈 주소를 만들어 주석에 추가하는게 좋다. 나중에 좀 더 쉽게 추적하기 위해서다.


###Move comments into code
- 코드검토자는 코드 내용이 잘 이해 못 할 수도 있다. 
- 이럴 때 검토자는 코드를 작성한 사람에게 찾아가 코드에 대한 설명을 듣는다. 
- 코드 검토자는 이 내용을 말로만 듣지 말고 코드에 기록하면 좋다. 
- 특히 코드작성자에게 들을 내용을 주석 형태로 코드에 아예 삽입해 놓으면, 향후 유지보수를 하는 개발자에게 큰 도움이 된다. 코드를 작성한 사람이 이에 대한 설명을 스스로 코드 주석으로 적는 것도 좋다.


###Build a team policy, as a team and enforce it!
- 코드 리뷰에 대한 정책을 팀 단위로 정해놓자. 
- 풀 리퀘스트(Pull Request)를 언제 적용할지 팀이 회의해서 규칙을 만들어놔야 한다.


###읽을거리
- [코드리뷰, Github로 바로 적용하기] https://realm.io/kr/news/codereview-howto/
- [카카오스토리 팀의 코드 리뷰 도입 사례 ] http://tech.kakao.com/2016/02/04/kakaostory-codereview/

- 참고 : http://www.slideshare.net/deview/123-quality-without-qa, http://www.bloter.net/archives/238819